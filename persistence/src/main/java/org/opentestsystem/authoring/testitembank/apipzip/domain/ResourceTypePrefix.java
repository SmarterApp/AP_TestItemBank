/*******************************************************************************
 * Educational Online Test Delivery System 
 * Copyright (c) 2014 American Institutes for Research
 *   
 * Distributed under the AIR Open Source License, Version 1.0 
 * See accompanying file AIR-License-1_0.txt or at
 * http://www.smarterapp.org/documents/American_Institutes_for_Research_Open_Source_Software_License.pdf
 ******************************************************************************/
package org.opentestsystem.authoring.testitembank.apipzip.domain;

import java.util.HashMap;
import java.util.Map;

import javax.xml.bind.annotation.XmlEnum;
import javax.xml.bind.annotation.XmlEnumValue;

@XmlEnum
public enum ResourceTypePrefix {

    @XmlEnumValue("imsqti_apipitem_xml")
    apipItem("imsqti_apipitem_xml"),

    @XmlEnumValue("resourcemetadata/apip")
    apipMetadata("resourcemetadata/apip"),

    @XmlEnumValue("imsqti_apipstimulus_xml")
    stimuli("imsqti_apipstimulus_xml");

    private static final Map<String, ResourceTypePrefix> RESOURCE_TYPES_BY_FULL_NAME = new HashMap<String, ResourceTypePrefix>();

    static {
        for (ResourceTypePrefix type : ResourceTypePrefix.values()) {
            RESOURCE_TYPES_BY_FULL_NAME.put(type.fullName, type);
        }
    }

    public static ResourceTypePrefix fromValue(final String inFullName) {
        ResourceTypePrefix temp = RESOURCE_TYPES_BY_FULL_NAME.get(inFullName);
        return temp;
    }

    public boolean isPrefixFor(final String type){
        boolean isPrefix = false;
        if(type != null && type.startsWith(this.fullName)){
            isPrefix = true;
        }
        return isPrefix;
    }

    private final String fullName;

    private ResourceTypePrefix(final String inFullName) {
        fullName = inFullName;
    }

    public String getFullName() {
        return fullName;
    }
}
