/*******************************************************************************
 * Educational Online Test Delivery System 
 * Copyright (c) 2014 American Institutes for Research
 *   
 * Distributed under the AIR Open Source License, Version 1.0 
 * See accompanying file AIR-License-1_0.txt or at
 * http://www.smarterapp.org/documents/American_Institutes_for_Research_Open_Source_Software_License.pdf
 ******************************************************************************/
package org.opentestsystem.authoring.testitembank.mocks;

import java.io.File;
import java.io.InputStream;

import org.mockito.Mockito;
import org.opentestsystem.authoring.testitembank.service.FileTransferService;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.integration.file.remote.session.Session;

public class MockFileRetrievalService implements FileTransferService {

    @Value("classpath:tenant_123/single_valid_item.zip")
    private File validTestFile;

    @Value("classpath:tenant_123/single_valid_apip_item.zip")
    private File validTestFile2;

    @Override
    public File getFile(final String importSetId, final String fileName) {
        File rval = null;
        if ("/tenant_123/single_valid_item.zip".equals(fileName)) {
            rval = validTestFile;
        }
        if ("/tenant_123/single_valid_apip_item.zip".equals(fileName)) {
            rval = validTestFile2;
        }
        return rval;
    }

    @Override
    public void writeFile(final String fileName, final InputStream stream) {

    }

    @Override
    public Session<?> getSession() {
        return Mockito.mock(Session.class);
    }

    @Override
    public int cleanDirectory(final String basePath, final int maxAge) {
        return 0;
    }
}
